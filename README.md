# 웹 침투테스트 by whiteSpider

온라인 팀과 오프라인 팀으로 나누어서 각 팀에서 간단한 웹 페이지를 개발한다.
추후 서로의 웹 페이지를 모의해킹하는 것을 목표로 둔다.

## 오프라인 팀 웹 침투 시나리오

먼저, 1. DB에 id,pw와 ssh 인증 정보를 넣어 놓습니다.      
      2. 각자 저희 오프라인팀 계정 4개를 만들어 게시글 작성하고, 볼 수 있게 합니다. 
      3. 일반회원: 게시물을 작성, 보는 것
           관리자: 게시물을 삭제, 공지사항글 작성, 회원 삭제, hfs서버(내부서버)에 백업 파일을 저장, 및 관리


처음 외부 서버에 있는 로그인 할 수 있는 페이지를 제공해준다. DB에 있는 일반 회원(게시글을 볼 수 있는 서비스) id,pw를 탈취합니다.
-> union sql injection 사용하는데, 필터링: null, # (더 추가하는게 좋을까요? ex) or, and)
id,pw을 얻고 일반 회원 페이지 접속 후 게시글 검색할 수 있는 입력하는 곳 sql 구문을 union sql injection을 사용해서 ssh 인증 정보들을 DB에서 갖고 옵니다.

그 후에 ssh 인증 정보를 통해
공격자가 ssh를 통해 외부 서버에 접근하고 외부 서버에서 ssh터널링를 사용해 
관리자 서버에 관리자 로그인 페이지로 이동합니다. 

<<내 역할>>
‘관리자 로그인 페이지’에 접속해서
-> LFI 취약점을 이용해 adminlogin.php에 소스코드를 보고 config.php에 id,pw 정보가 있다는 것을 탐지하고 config.php 소스코드를 보고 id,pw을 얻습니다.

id,pw을 얻고 관리자 로그인 페이지에 로그인한다.  
4자리 숫자를 입력하는 2중 보안 페이지에 접속하게 됩니다. 
->brute force를 사용해서 관리자 권한 페이지로 접속합니다.
<<여기까지>>

‘관리자 권한 페이지’ 에서는 hfs서버(내부 서버)에 백업 파일을 이용해 리버스 쉘을 사용하여
hfs 서버(내부 서버)에 권한 상승을 하고, 내부 서버 root계정 탈취 후 root계정만 읽을 수 있는 flag.txt에 들어가 flag값 얻는 것이 최종 목표이다.  

